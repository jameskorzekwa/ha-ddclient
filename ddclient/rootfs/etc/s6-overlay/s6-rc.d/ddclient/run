#!/command/with-contenv bashio
# ==============================================================================
# Start the ddclient service
# s6-overlay docs: https://github.com/just-containers/s6-overlay
# ==============================================================================

# Declare variables
declare message

## Get the 'message' key from the user config options.
message=$(bashio::config 'message')

## Print the message the user supplied
bashio::log.info "${message}"

## Run your program
filecontent=$(cat /share/ddclient/ddclient.conf)
bashio::log.info "${filecontent}"
dirfiles=$(ls /usr/bin/ | grep ddclient)
bashio::log.info "${dirfiles}"
bashio::log.info "STARTING"
#exec /usr/bin/ddclient -foreground -file /share/ddclient/ddclient.conf
#exec /usr/bin/ddclient -daemon=0 -debug -verbose -noquiet -file /share/ddclient/ddclient.conf
bashio::log.info "NOW"
exec watch -n 5 echo "testing"
# test=$(/usr/bin/ddclient --help)
# bashio::log.info "${test}"
# bashio::log.info "HERE"
# exec /usr/bin/ddclient --help
